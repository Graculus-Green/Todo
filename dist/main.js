(()=>{"use strict";let e=[{id:1,name:"First",tasks:[{name:"one"},{name:"two"},{name:"three"}]},{id:2,name:"Second",tasks:[{name:"4"},{name:"5"},{name:"6"}]},{id:3,name:"Third",tasks:[{name:"7"},{name:"8"},{name:"9"}]}];class t{constructor(e,t){this.id=e,this.name=t,this.tasks=[]}}class a{constructor(e,t){this.id=e,this.name=t,this.taskDescription="",this.taskDue=""}}const n=e=>e.replace(/[^A-Za-z0-9]/g,""),c=()=>{let t=document.querySelector("#activeProject").innerText.split("\n")[0];return e.find((e=>e.name==t))},r=()=>{if(document.querySelector(".projectList").innerHTML="",e.length>>0)e.forEach((e=>{let t=document.createElement("li");t.classList.add("projectName"),"activeProject"!==t.id&&(t.id=`project${e.name}`),t.innerText=e.name,document.querySelector(".projectList").appendChild(t);let a=document.createElement("button");a.classList.add("deleteButton"),a.id=`deleteProject${e.name}`,a.innerHTML="&#215","activeProject"===t.id?document.querySelector("#activeProject").appendChild(a):document.querySelector(`#project${e.name}`).appendChild(a)})),document.querySelector(".projectName").id="activeProject";else{let e=document.createElement("div");e.classList.add("noProject"),e.id="noProject",document.querySelector(".projectList").appendChild(e),e.innerHTML="Enter your next project"}document.querySelector(".projectList").querySelectorAll(".deleteButton").forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();let a=t.target.id.slice(13);e=e.filter((e=>e.name!==a)),r(),0==e.length&&d()}))})),o()},d=()=>{if(document.querySelector(".taskList").innerHTML="",e.length>0)c().tasks.forEach((e=>{let t=document.createElement("li");t.classList.add("taskName"),t.id=`task${e.name}`,t.innerText=e.name,document.querySelector(".taskList").appendChild(t);let a=document.createElement("button");a.classList.add("deleteButton"),a.id=`deleteTask${e.name}`,a.innerHTML="&#215",document.querySelector(`#task${e.name}`).appendChild(a)}));else{let e=document.createElement("div");e.classList.add("noTask"),e.id="noTask",document.querySelector(".taskList").appendChild(e),e.innerHTML="No tasks here."}document.querySelector(".taskBox").querySelectorAll(".deleteButton").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.id.slice(10);c().tasks=c().tasks.filter((e=>e.name!==t)),d()}))})),l()},o=()=>{document.querySelector(".projectList").addEventListener("click",(e=>{"projectName"==e.target.classList&&(Array.from(document.querySelectorAll(".projectName")).forEach((e=>{e.id=""})),e.target.id="activeProject",d())}))},l=()=>{document.querySelector(".taskList").addEventListener("click",(e=>{"taskName"==e.target.classList&&(Array.from(document.querySelectorAll(".taskName")).forEach((e=>{e.id=""})),e.target.id="activeTask")}))};(()=>{const e=document.createElement("h1");e.classList.add("mainHeader"),e.innerText="What am I doing?",document.querySelector(".content").appendChild(e);const t=document.createElement("div");t.classList.add("panelBox");const a=document.createElement("div");a.classList.add("taskBox");const n=document.createElement("div");n.classList.add("projectBox"),t.appendChild(n),t.appendChild(a);const c=document.querySelector(".content");c.appendChild(e),c.appendChild(t)})(),(()=>{let e=document.createElement("h2");e.innerText="Projects",e.classList.add("projectHeader"),document.querySelector(".projectBox").appendChild(e);let t=document.createElement("ul");t.classList.add("projectList"),document.querySelector(".projectBox").appendChild(t),r();let a=document.createElement("form");a.classList.add("projectForm"),document.querySelector(".projectBox").appendChild(a);let n=document.createElement("input");n.classList.add("projectFormInput"),n.type="text",n.name="projectName",n.id="projectName1",document.querySelector(".projectForm").appendChild(n);let c=document.createElement("label");c.classList.add("addProjectLabel"),c.innerText="Add a project",document.querySelector(".projectForm").appendChild(c)})(),(()=>{let e=document.createElement("h2");e.innerText="Tasks",e.classList.add("taskHeader"),document.querySelector(".taskBox").appendChild(e);let t=document.createElement("ul");t.classList.add("taskList"),document.querySelector(".taskBox").appendChild(t),d();let a=document.createElement("form");a.classList.add("taskForm"),document.querySelector(".taskBox").appendChild(a);let n=document.createElement("input");n.classList.add("taskFormInput"),n.type="text",n.name="taskName",n.id="taskName1",document.querySelector(".taskForm").appendChild(n);let c=document.createElement("label");c.classList.add("addTaskLabel"),c.innerText="Add a task",document.querySelector(".taskForm").appendChild(c)})(),(()=>{let a=document.querySelector(".projectForm"),c=document.querySelector(".projectFormInput");a.addEventListener("submit",(a=>{if(""!==c.value){a.preventDefault();let d=`${n(c.value)}`,o=e.length+1,l=new t(o,d);e.push(l),window.localStorage.setItem(`${d}`,JSON.stringify(l)),r(),c.value=""}}))})(),(()=>{let e=document.querySelector(".taskForm"),t=document.querySelector(".taskFormInput");e.addEventListener("submit",(e=>{if(""!==t.value){e.preventDefault();let r=`${n(t.value)}`,o=c().tasks.length+1,l=new a(o,r);c().tasks.push(l),t.value="",d()}}))})()})();